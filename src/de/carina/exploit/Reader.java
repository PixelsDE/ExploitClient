package de.carina.exploit;

import java.io.BufferedReader;
import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class Reader implements Runnable {

    private BufferedReader reader = Main.mainClass.getReader();

    @Override
    public void run() {
        try {
            Login login = new Login(reader);
            while (true) {
                if (Main.mainClass.passwdCorrect) {
                    byte[] in = Base64.getDecoder().decode(reader.readLine().getBytes(StandardCharsets.UTF_8));
                    String input = new String(in);
                     input = "[System] ->" + input;
                    System.out.println(input);
                    Main.mainClass.massanger.sendMessage(Main.mainClass.writer, input);
                }
            }
        } catch (IOException exception) {
            exception.printStackTrace();
        }
    }
}


